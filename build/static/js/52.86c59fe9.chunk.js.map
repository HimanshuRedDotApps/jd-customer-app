{"version":3,"sources":["utils/CountrySelector.js","assets/uploadDocument.svg","views/app-views/order-management/AddOrder/AddOrder.js"],"names":["CountrySelector","_ref","value","onChange","countryList","useContext","CountryContext","_jsx","Select","showSearch","filterOption","input","option","children","toLowerCase","includes","placeholder","map","country","Option","id","name","AddOrder","form","Form","useForm","data","setData","React","useState","machineData","setMachineData","technician","setTechnician","workshop","setWorkshop","serviceType","setServiceType","machineFaultInput","setMachineFaultInput","machineFault","setMachineFault","selectedFiles","setSelectedFiles","history","useHistory","useEffect","async","resp","axiosInstance","get","localStorage","getItem","items","err","console","log","message","error","getData","response","status","responseData","Array","isArray","fetchData","res1","getTechnicianList","getWorkshop","_jsxs","SettingOutlined","style","color","fontWeight","Card","layout","onFinish","length","file","temp","filter","item","undefined","url","temp2","uploadPromise","UploadImage","Promise","all","post","values","machine_faults","files","model","find","machine_id","success","push","display","justifyContent","flexWrap","Item","rules","required","width","label","Input","jobsite_name","pattern","RegExp","e","gap","target","Button","type","onClick","sNo","fault","PlusOutlined","marginTop","item2","cursor","DeleteOutlined","Empty","TextArea","className","xmlns","height","fill","viewBox","d","styles","uploadFile","multiple","event","fileList","newSelectedFiles","i","UploadFileIcon","EyeOutlined","window","open","AfterDeleteFile","elem","index","delUplFile","CloseCircleOutlined","htmlType","listStyle","alignItems","border","padding","borderRadius","background","position","opacity","visibility","content","backgroundColor"],"mappings":"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","file":"static/js/52.86c59fe9.chunk.js","sourcesContent":["import { Select } from 'antd';\r\nimport { CountryContext } from 'CountryContext';\r\nimport React, { useContext } from 'react';\r\n\r\nfunction CountrySelector({ value, onChange }) {\r\n    const { countryList } = useContext(CountryContext);\r\n\r\n    return (\r\n        <Select\r\n            showSearch\r\n            value={value}\r\n            onChange={onChange}\r\n            filterOption={(input, option) =>\r\n                option.children.toLowerCase().includes(input.toLowerCase())\r\n            }\r\n            placeholder=\"Search and select a country\"\r\n        >\r\n            {countryList.map((country) => (\r\n                <Select.Option key={country.id} value={country.id}>\r\n                    {country.name}\r\n                </Select.Option>\r\n            ))}\r\n        </Select>\r\n    );\r\n}\r\n\r\nexport default CountrySelector;\r\n","export default __webpack_public_path__ + \"static/media/uploadDocument.da51422a.svg\";","import {\r\n  CloseCircleOutlined,\r\n  DeleteOutlined,\r\n  EyeOutlined,\r\n  FileOutlined,\r\n  FilterOutlined,\r\n  InboxOutlined,\r\n  PlusOutlined,\r\n  SettingOutlined,\r\n} from \"@ant-design/icons\";\r\nimport { Button, Card, Empty, Form, Input, message, Select, Upload } from \"antd\";\r\nimport { Option } from \"antd/lib/mentions\";\r\nimport { axiosInstance } from \"App\";\r\nimport { UploadFileIcon } from \"assets/svg/icon\";\r\nimport UploadImage from \"assets/uploadDocument.svg\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom\";\r\nimport CountrySelector from \"utils/CountrySelector\";\r\n\r\nfunction AddOrder() {\r\n  const [form] = Form.useForm();\r\n  const [data, setData] = React.useState([]);\r\n  const [machineData, setMachineData] = React.useState([]);\r\n  const [technician, setTechnician] = React.useState([]);\r\n  const [workshop, setWorkshop] = React.useState([]);\r\n  const [serviceType, setServiceType] = React.useState(\"\");\r\n  const [machineFaultInput, setMachineFaultInput] = React.useState(\"\");\r\n  const [machineFault, setMachineFault] = React.useState([]);\r\n  const [selectedFiles, setSelectedFiles] = useState([]);\r\n  const history = useHistory();\r\n\r\n  const onFinish = async (values) => {\r\n    // console.log(\"values\", values);\r\n    if(machineFault.length === 0) {\r\n        message.error(\"Please add machine fault\");\r\n        return;\r\n    }\r\n    let file= [];\r\n\r\n    const temp = selectedFiles.filter((item) => {\r\n        return item.url === undefined;\r\n    })\r\n\r\n    const temp2 = selectedFiles.filter((item) => {\r\n        return item.url !== undefined;\r\n    })\r\n\r\n    if(temp.length !== 0) {\r\n        const uploadPromise = temp.map(async (item) => {\r\n            if (item.url === undefined) {\r\n                const url = await UploadImage(item);\r\n                return url;\r\n            } else {\r\n                return item.url;\r\n            }\r\n        })\r\n\r\n        file = await Promise.all(uploadPromise);\r\n        console.log(file);\r\n    }\r\n\r\n    file = [ ...file,...temp2.map((item)=>{\r\n        return item.url\r\n    })];\r\n    try {\r\n      const response = await axiosInstance.post(\"api/web/orders\", {\r\n        ...values,\r\n        machine_faults: machineFault,\r\n        files:file,\r\n        model: machineData.find((item) => item.id === values.machine_id).model,\r\n        status:0,\r\n        //    0 -> Order Created \r\n      });\r\n      if (response.status === 200) {\r\n        console.log(\"response\", response);\r\n        message.success(\"Order created successfully\");\r\n        history.push(\"/app/order-management\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error fetching data:\", error);\r\n    }\r\n  };\r\n\r\n  \r\n\r\n  const getBase64 = (img, callback) => {\r\n    const reader = new FileReader();\r\n    reader.addEventListener(\"load\", () => callback(reader.result));\r\n    reader.readAsDataURL(img);\r\n  };\r\n  function handleFileSelect(event) {\r\n    const fileList = event.target.files;\r\n    const newSelectedFiles = [];\r\n    for (let i = 0; i < fileList.length; i++) {\r\n      newSelectedFiles.push(fileList[i]);\r\n    }\r\n    //   console.log(selectedFiles)\r\n    setSelectedFiles([...selectedFiles, newSelectedFiles[0]]);\r\n  }\r\n  const delUplFile = (i) => {\r\n    let AfterDeleteFile = selectedFiles.filter((elem, index) => {\r\n      return index !== i;\r\n    });\r\n    setSelectedFiles(AfterDeleteFile);\r\n  };\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      const response = await axiosInstance.get(`api/web/machines?customer_id=${localStorage.getItem(\"parent_id\")!=\"null\"? localStorage.getItem(\"parent_id\"):localStorage.getItem(\"user_id\")}&status=1`);\r\n      if (response.status === 200) {\r\n        const responseData = response.data.items;\r\n        if (Array.isArray(responseData)) {\r\n          setMachineData(responseData);\r\n        } else {\r\n          console.error(\"Unexpected response format:\", responseData);\r\n        }\r\n        // console.log(JSON.stringify(responseData));\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error fetching data:\", error);\r\n    }\r\n  };\r\n\r\n  const getData = async () => {\r\n    try {\r\n      const resp = await axiosInstance.get(`/api/web/jobsites?customer_id=${localStorage.getItem(\"parent_id\")!=\"null\"? localStorage.getItem(\"parent_id\"):localStorage.getItem(\"user_id\")}&status=1`);\r\n      setData(resp.data.items);\r\n    } catch (err) {\r\n      console.log(err);\r\n      message.error(\"Something went wrong\");\r\n    }\r\n  };\r\n\r\n  const getTechnicianList = async () => {\r\n    const res1 = await axiosInstance.get(`api/web/technician/list?customer_id=${localStorage.getItem(\"parent_id\")!=\"null\"? localStorage.getItem(\"parent_id\"):localStorage.getItem(\"user_id\")}&status=1`);\r\n    console.log(\"res1\", res1);\r\n    setTechnician(res1.data.items);\r\n  };\r\n\r\n  const getWorkshop = async () => {\r\n    const res1 = await axiosInstance.get(`api/admin/workshop-user/list?status=1`);\r\n    // console.log('res1', res1);\r\n    setWorkshop(res1.data.items);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getData();\r\n    fetchData();\r\n    getTechnicianList();\r\n    getWorkshop();\r\n  }, []);\r\n  return (\r\n    <div>\r\n      <h4>\r\n        {\" \"}\r\n        <SettingOutlined />\r\n        <span\r\n          style={{\r\n            color: \"#6a6a6a\",\r\n            fontWeight: \"300\",\r\n          }}\r\n        >\r\n          {\" \"}\r\n          Order Management\r\n        </span>{\" \"}\r\n        / Create New Order{\" \"}\r\n      </h4>\r\n\r\n      <Card>\r\n        <Form\r\n          form={form}\r\n          layout=\"vertical\"\r\n          onFinish={onFinish}\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"space-between\",\r\n            flexWrap: \"wrap\",\r\n          }}\r\n        >\r\n          <Form.Item\r\n            rules={[{ required: true, message: \"Please input Company Name!\" }]}\r\n            style={{\r\n              width: \"45%\",\r\n            }}\r\n            label=\"Company Name\"\r\n            name={\"company_name\"}\r\n          >\r\n            <Input />\r\n          </Form.Item>\r\n          <Form.Item\r\n            style={{\r\n              width: \"45%\",\r\n            }}\r\n            label=\"Job Site Name\"\r\n            name={\"job_site_id\"}\r\n            rules={[{ required: true, message: \"Please input Job Site Name!\" }]}\r\n          >\r\n            {/* <Input /> */}\r\n            <Select>\r\n              {data.map((item) => {\r\n                return <Option value={item.id}>{item.jobsite_name}</Option>;\r\n              })}\r\n            </Select>\r\n          </Form.Item>\r\n          <Form.Item\r\n            rules={[{ required: true, message: \"Please input Postal Code!\"\r\n              \r\n\r\n             },\r\n            {\r\n              pattern: new RegExp(/^[0-9\\b]+$/),\r\n              message: \"Please enter valid postal code\",\r\n            }]}\r\n            style={{\r\n              width: \"45%\",\r\n            }}\r\n            label=\"Postal Code\"\r\n            name={\"postal_code\"}\r\n          >\r\n            <Input />\r\n          </Form.Item>\r\n          <Form.Item\r\n            rules={[{ required: true, message: \"Please input Block Number!\" }]}\r\n            style={{\r\n              width: \"45%\",\r\n            }}\r\n            label=\"Block Number\"\r\n            name={\"block_number\"}\r\n          >\r\n            <Input />\r\n          </Form.Item>\r\n          <Form.Item\r\n            style={{\r\n              width: \"45%\",\r\n            }}\r\n            label=\"Street Number\"\r\n            name={\"street_number\"}\r\n            rules={[{ required: true, message: \"Please input Street Number!\" }]}\r\n          >\r\n            <Input />\r\n          </Form.Item>\r\n          <Form.Item\r\n            style={{\r\n              width: \"45%\",\r\n            }}\r\n            label=\"Level Number\"\r\n            name={\"level_number\"}\r\n            rules={[{ required: true, message: \"Please input Level Number!\" }]}\r\n          >\r\n            <Input />\r\n          </Form.Item>\r\n          <Form.Item\r\n            style={{\r\n              width: \"45%\",\r\n            }}\r\n            label=\"Unit Number\"\r\n            name={\"unit_number\"}\r\n            rules={[{ required: true, message: \"Please input Unit Number!\" }, {\r\n                            pattern: new RegExp(/^[0-9\\b]+$/),\r\n                            message: \"Please enter valid unit number\",\r\n                          }]}\r\n          >\r\n            <Input />\r\n          </Form.Item>\r\n          <Form.Item\r\n            style={{\r\n              width: \"45%\",\r\n            }}\r\n            label=\"Country\"\r\n            name={\"country\"}\r\n            rules={[{ required: true, message: \"Please input Country!\" }]}\r\n          >\r\n           <CountrySelector/>\r\n          </Form.Item>\r\n          <Form.Item\r\n            style={{\r\n              width: \"45%\",\r\n            }}\r\n            label=\"Maintenance Service Type\"\r\n            name={\"maintenance_service_type\"}\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: \"Please input Maintenance Service Type!\",\r\n              },\r\n            ]}\r\n          >\r\n            <Select\r\n              onChange={(e) => {\r\n                setServiceType(e);\r\n              }}\r\n            >\r\n              <Option value=\"Onsite\">Onsite</Option>\r\n              <Option value=\"Workshop\">Workshop</Option>\r\n            </Select>\r\n          </Form.Item>\r\n          {serviceType === \"Onsite\" ? (\r\n            <Form.Item\r\n              style={{\r\n                width: \"45%\",\r\n              }}\r\n              label=\"Technician\"\r\n              name={\"technician_id\"}\r\n              rules={[{ required: true, message: \"Please select Technician!\" }]}\r\n            >\r\n              <Select>\r\n                {technician.map((item) => {\r\n                  return <Option value={item.id}>{item.name}</Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n          ) : serviceType === \"Workshop\" ? (\r\n            <Form.Item\r\n              style={{\r\n                width: \"45%\",\r\n              }}\r\n              label=\"Workshop\"\r\n              name={\"workshop_id\"}\r\n              rules={[{ required: true, message: \"Please Select Workshop!\" }]}\r\n            >\r\n              <Select>\r\n                {workshop.map((item) => {\r\n                  return <Option value={item.id}>{item.name}</Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n          ) : null}\r\n          <Form.Item\r\n            style={{\r\n              width: \"45%\",\r\n            }}\r\n            label=\"Machine\"\r\n            name={\"machine_id\"}\r\n            rules={[{ required: true, message: \"Please input Machine!\" }]}\r\n          >\r\n            {/* <Input /> */}\r\n            <Select>\r\n              {machineData.map((item) => {\r\n                return (\r\n                  <Option value={item.id}>\r\n                    {item.name} | {item.model}\r\n                  </Option>\r\n                );\r\n              })}\r\n            </Select>\r\n          </Form.Item>\r\n\r\n          <Form.Item\r\n            style={{\r\n              width: \"100%\",\r\n            }}\r\n            label=\"Machine Fault\"\r\n          >\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                gap: \"5px\",\r\n              }}\r\n            >\r\n              <Input\r\n                value={machineFaultInput}\r\n                onChange={(e) => {\r\n                  setMachineFaultInput(e.target.value);\r\n                }}\r\n              />\r\n              <Button\r\n                type=\"primary\"\r\n                onClick={() => {\r\n                  setMachineFault([\r\n                    ...machineFault,\r\n                    { sNo: machineFault.length + 1, fault: machineFaultInput },\r\n                  ]);\r\n                  setMachineFaultInput(\"\");\r\n                }}\r\n              >\r\n                <PlusOutlined />\r\n              </Button>\r\n            </div>\r\n            {machineFault.length > 0 ? (\r\n              machineFault.map((item) => {\r\n                return (\r\n                  <Card\r\n                    style={{\r\n                      marginTop: \"10px\",\r\n                    }}\r\n                  >\r\n                    <div\r\n                      style={{\r\n                        display: \"flex\",\r\n                        justifyContent: \"space-between\",\r\n                      }}\r\n                    >\r\n                      <div>{item.fault}</div>\r\n                      <div\r\n                        onClick={() => {\r\n                          setMachineFault(machineFault.filter((item2) => item2.sNo !== item.sNo));\r\n                          // setMachineFault(\r\n                          //   machineFault.filter((item2,i) => i !== item.sNo)\r\n                          // );\r\n                        }}\r\n                        style={{\r\n                          color: \"red\",\r\n                          cursor: \"pointer\",\r\n                        }}\r\n                      >\r\n                        <DeleteOutlined />\r\n                      </div>\r\n                    </div>\r\n                  </Card>\r\n                );\r\n              })\r\n            ) : (\r\n              <Card\r\n                style={{\r\n                  marginTop: \"10px\",\r\n                }}\r\n              >\r\n                <Empty />\r\n              </Card>\r\n            )}\r\n          </Form.Item>\r\n          <Form.Item\r\n            style={{\r\n              width: \"45%\",\r\n            }}\r\n            label=\"Fault Details\"\r\n            name={\"fault_details\"}\r\n            rules={[{ required: true, message: \"Please input Fault Details!\" }]}\r\n          >\r\n            <Input.TextArea />\r\n          </Form.Item>\r\n          <div style={{ width: \"100%\" }}>\r\n            <h2>Attachment</h2>\r\n            <div className=\"border bg-white rounded p-3 mt-4\">\r\n              <div className=\"d-flex flex-column justify-content-center align-items-center position-relative uploaddoc\">\r\n                <svg\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  width=\"64\"\r\n                  height=\"64\"\r\n                  fill=\"none\"\r\n                  viewBox=\"0 0 64 64\"\r\n                >\r\n                  <path\r\n                    fill={\"#3CA6C1\"}\r\n                    d=\"M18.57 15.51l7.86 7a2 2 0 001.33.51H56v34.9A2.93 2.93 0 0153.26 61H5.74A2.93 2.93 0 013 57.92V18a2.85 2.85 0 012.68-3h11.56a2 2 0 011.33.51z\"\r\n                  ></path>\r\n                  <path fill=\"#D7E6EF\" d=\"M49 57H7V3h42v54z\"></path>\r\n                  <path\r\n                    fill={\"#3CA6C1\"}\r\n                    d=\"M45 23h16v-6a2 2 0 00-2-2h-6l-8 8z\"\r\n                  ></path>\r\n                  <path fill=\"#F7FCFF\" d=\"M14 9h42v14H14V9z\"></path>\r\n                  <path\r\n                    fill={\"#3CA6C1\"}\r\n                    d=\"M25.69 15.51l7.42 7a1.8 1.8 0 001.25.51H61v34.9A2.87 2.87 0 0158.41 61H13.59A2.87 2.87 0 0111 57.92V18a2.79 2.79 0 012.53-3h10.9c.47 0 .922.184 1.26.51z\"\r\n                  ></path>\r\n                  <path\r\n                    fill=\"#F7FCFF\"\r\n                    d=\"M36 55c7.18 0 13-5.82 13-13s-5.82-13-13-13-13 5.82-13 13 5.82 13 13 13z\"\r\n                  ></path>\r\n                  <path\r\n                    fill=\"#D7E6EF\"\r\n                    d=\"M52 13H32a1 1 0 000 2h20a1 1 0 000-2zm0 4H37a1 1 0 000 2h15a1 1 0 000-2z\"\r\n                  ></path>\r\n                  <path\r\n                    fill=\"#44394A\"\r\n                    d=\"M36.5 49.28l6.72-6.72a5.501 5.501 0 00-7.78-7.78l-8.84 8.84a1.002 1.002 0 000 1.42A1 1 0 0028 45l8.84-8.84a3.5 3.5 0 114.95 4.95l-6.71 6.71a1.998 1.998 0 01-3.38-.571A2 2 0 0132.26 45L39 38.32a.5.5 0 01.71 0 .48.48 0 010 .71l-6 6a1 1 0 101.42 1.41l6-6a2.503 2.503 0 00-3.54-3.54l-6.72 6.72a4 4 0 000 5.66 4.003 4.003 0 005.66 0h-.03z\"\r\n                  ></path>\r\n                </svg>\r\n                <h5 className=\"mb-0 mt-2\">Drag & Drop Files Here</h5>\r\n                <h5 className=\"mb-0\">Or</h5>\r\n                <h5 className=\"mb-0\" style={{ color: \"#3CA6C1\" }}>\r\n                  Choosen File\r\n                </h5>\r\n                <input\r\n                  style={styles.uploadFile}\r\n                  className=\"uploadFile\"\r\n                  type=\"file\"\r\n                  multiple\r\n                  onChange={handleFileSelect}\r\n                />\r\n              </div>\r\n              <div className=\"mt-4\">\r\n                {selectedFiles.length > 0 && (\r\n                  <ul className=\"p-0\" style={{ width: \"40%\" }}>\r\n                    {selectedFiles.map((file, i) => (\r\n                      <li key={file.name} className=\"my-3\" style={styles.files}>\r\n                        {\" \"}\r\n                        <div className=\"d-flex align-items-center\">\r\n                          <UploadFileIcon />{\" \"}\r\n                          <span className=\"ml-2\">{file.name} </span>{\" \"}\r\n                          <span className=\"ml-5\">\r\n                            {file.url ? (\r\n                              <EyeOutlined\r\n                                style={{ cursor: \"pointer\" }}\r\n                                onClick={() => window.open(file.url)}\r\n                              />\r\n                            ) : null}\r\n                          </span>\r\n                        </div>\r\n                        <span\r\n                          style={{ cursor: \"pointer\" }}\r\n                          onClick={() => delUplFile(i)}\r\n                        >\r\n                          {\" \"}\r\n                          <CloseCircleOutlined />{\" \"}\r\n                        </span>\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div style={{ display:\"flex\",\r\n                  justifyContent:\"flex-end\",\r\n                  width:\"100%\",\r\n                  marginTop:\"10px\"\r\n                 }}>\r\n                <Form.Item>\r\n                    <Button type=\"primary\" htmlType=\"submit\">Submit</Button>\r\n                </Form.Item>\r\n                </div>\r\n        </Form>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AddOrder;\r\n\r\nlet styles = {\r\n  files: {\r\n    listStyle: \"none\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"space-between\",\r\n    gap: \"13px\",\r\n    border: \"1px solid lightblue\",\r\n    padding: \"10px\",\r\n    borderRadius: \"9px\",\r\n    background: \"#0093ff0a\",\r\n  },\r\n  uploadFile: {\r\n    position: \"absolute\",\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    opacity: 0,\r\n  },\r\n\r\n  // Add the new styles here:\r\n\r\n  \".uploadFile::-webkit-file-upload-button\": {\r\n    visibility: \"hidden\",\r\n  },\r\n\r\n  \".uploadFile::before\": {\r\n    content: \"'Drag & Drop'\",\r\n    display: \"inline-block\",\r\n    padding: \"10px\",\r\n    border: \"1px solid #ccc\",\r\n    borderRadius: \"4px\",\r\n    cursor: \"pointer\",\r\n  },\r\n\r\n  \".uploadFile:hover::before\": {\r\n    backgroundColor: \"#ccc\",\r\n  },\r\n};\r\n\r\n// company_name:Acme co pte ltd\r\n// job_site_id:1\r\n// postal_code:411001\r\n// block_number:23\r\n// street_number:34\r\n// level_number:22222\r\n// unit_number:54\r\n// country:75\r\n// maintenance_service_type:Onsite\r\n// machine_id:16\r\n// make:Johnson Electric\r\n// model:CF1245g6\r\n// sensor_id:5\r\n// sensor_location:Rotor\r\n// machine_fault:Pump Vibrations\r\n// fault_details:loreum ipsum is dummy text. loreum ipsum is dummy text.loreum ipsum is dummy text.↵loreum ipsum is dummy text.loreum ipsum is dummy text.loreum ipsum is dummy text.↵loreum ipsum is dummy text.loreum ipsum is dummy text. loreum ipsum is dummy text.loreum↵ ipsum is dummy text.loreum ipsum is dummy text.loreum ipsum is dummy text.loreum ipsum is ↵dummy text.l oreum ipsum is dummy text.\r\n// status:1\r\n// files[]:https://jd-stag-jd.s3.ap-southeast-1.amazonaws.com/images.jpeg\r\n// files[]:https://jd-stag-jd.s3.ap-southeast-1.amazonaws.com/cm551k0uw00010jnz9rx0domz.jpeg\r\n"],"sourceRoot":""}