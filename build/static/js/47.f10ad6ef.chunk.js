(this.webpackJsonpemilus=this.webpackJsonpemilus||[]).push([[47,50],{734:function(e,t,s){"use strict";var a=s(239),n=s.n(a),r=s(11),o=s(749).a(),i=s(31),c=s(225);const l=n.a.create({baseURL:r.a,timeout:6e4}),d="/auth/login";l.interceptors.request.use((e=>{const t=localStorage.getItem(i.b);return t&&(e.headers.authorization=t),t||e.headers["public-request"]||(o.push(d),window.location.reload()),e}),(e=>{c.a.error({message:"Error"}),Promise.reject(e)})),l.interceptors.response.use((e=>e.data),(e=>{let t={message:""};return 400!==e.response.status&&403!==e.response.status||(t.message="Authentication Fail",t.description="Please login again",localStorage.removeItem(i.b),o.push(d),window.location.reload()),404===e.response.status&&(t.message="Not Found"),500===e.response.status&&(t.message="Internal Server Error"),508===e.response.status&&(t.message="Time Out"),c.a.error(t),Promise.reject(e)}));var m=l;const u={login:function(e){return m({url:"/posts",method:"post",headers:{"public-request":"true"},data:e})},signUp:function(e){return m({url:"/auth/signup",method:"post",headers:{"public-request":"true"},data:e})}};t.a=u},753:function(e,t,s){"use strict";var a=s(0),n=s.n(a),r=s(37),o=s(568),i=s(104),c=s(590),l=s(633),d=s(515),m=s(894),u=s(313),h=s(741),b=s(1);var j=n.a.forwardRef(((e,t)=>Object(b.jsx)(h.a,{component:e.svg,className:e.className}))),g=s(54),p=s(734),x=s(39),O=s(752);const y=e=>{let t=Object(x.useHistory)();const{otherSignIn:s,showForgetPassword:n,hideAuthMessage:r,onForgetPasswordClick:h,showLoading:g,extra:y,loading:v,showMessage:f,message:w,authenticated:N,showAuthMessage:S,token:k,redirect:I,allowRedirect:C}=e;Object(a.useEffect)((()=>{null!==k&&C&&t.push(I),f&&setTimeout((()=>{r()}),3e3)}));const P=Object(b.jsxs)("div",{children:[Object(b.jsx)(o.a,{children:Object(b.jsx)("span",{className:"text-muted font-size-base font-weight-normal",children:"or connect with"})}),Object(b.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(b.jsx)(i.a,{onClick:()=>{g()},className:"mr-2",disabled:v,icon:Object(b.jsx)(j,{svg:u.l}),children:"Google"}),Object(b.jsx)(i.a,{onClick:()=>{g()},icon:Object(b.jsx)(j,{svg:u.j}),disabled:v,children:"Facebook"})]})]});return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(O.a.div,{initial:{opacity:0,marginBottom:0},animate:{opacity:f?1:0,marginBottom:f?20:0},children:Object(b.jsx)(c.a,{type:"error",showIcon:!0,message:w})}),Object(b.jsxs)(l.a,{layout:"vertical",name:"login-form",onFinish:e=>{g();p.a.login(e).then((e=>{N("fakeToken")})).then((e=>{S(e)}))},children:[Object(b.jsx)(l.a.Item,{name:"email",label:"Email",rules:[{required:!0,message:"Please input your email"},{type:"email",message:"Please enter a validate email!"}],children:Object(b.jsx)(d.a,{prefix:Object(b.jsx)(m.a,{className:"text-primary"})})}),Object(b.jsx)(l.a.Item,{children:Object(b.jsx)(i.a,{type:"primary",htmlType:"submit",block:!0,loading:v,children:"Sign In"})}),s?P:null,y]})]})};y.defaultProps={otherSignIn:!0,showForgetPassword:!1};const v={showAuthMessage:g.c,showLoading:g.d,hideAuthMessage:g.b,authenticated:g.a};t.a=Object(r.b)((e=>{let{auth:t}=e;const{loading:s,message:a,showMessage:n,token:r,redirect:o}=t;return{loading:s,message:a,showMessage:n,token:r,redirect:o}}),v)(y)},799:function(e,t,s){"use strict";s.r(t);var a=s(0),n=(s(753),s(130)),r=s(633),o=s(224),i=s(515),c=s(104),l=s(634),d=s(518),m=s(512),u=s(37),h=s.p+"static/media/Logo.395390b5.svg",b=s(764),j=s(313),g=s(792),p=s.n(g),x=(s(795),s(796),s(797)),O=s.n(x),y=s(213),v=s(798);s(800);var f={apiKey:"AIzaSyBW4y5A8HAiboG6UJjtlj9sMUc0Zuh-Ns0",authDomain:"jdworks-49200.firebaseapp.com",projectId:"jdworks-49200",storageBucket:"jdworks-49200.firebasestorage.app",messagingSenderId:"997372637377",appId:"1:997372637377:web:cf324cadf69546016de440",measurementId:"G-QVDVQPRZLT"};const w=Object(v.a)(f);Object(b.b)(w);var N=s(592),S=s(894),k=s(1);const I={backgroundImage:"url(/img/others/wave.svg)",backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundPosition:"top",backgroundColor:"white"},C={position:"absolute",top:"1rem",left:"1rem"},{Option:P}=n.a;t.default=e=>{Object(u.c)((e=>e.theme.currentTheme));const[t,s]=Object(a.useState)(1),[b]=r.a.useForm(),[g,x]=Object(a.useState)(""),[v,f]=Object(a.useState)("+65"),[w,T]=Object(a.useState)(!1),R=Object(N.useHistory)(),[A,E]=Object(a.useState)(""),[F,z]=Object(a.useState)([]),[_,q]=Object(a.useState)(!1),[M,B]=Object(a.useState)("");Object(a.useEffect)((()=>{localStorage.getItem("token")&&R.push("/app")}));const L=Object(k.jsxs)(n.a,{onChange:e=>{f(e)},value:v,style:{width:80},children:[Object(k.jsx)(P,{value:"+91",children:"IND"}),Object(k.jsx)(P,{value:"+65",children:"SG"})]});const G=async()=>{if(E(""),g.length<8)o.b.error("Please enter a valid phone number");else try{const e=await y.axiosInstance.post("/api/app/auth/checkByNumber",{phoneCode:v,phoneNo:g});1==e.data.item.success?U({phoneCode:v,phoneNo:g}):T(!0),console.log(e.data)}catch(e){console.log(e),o.b.error("You are not registered. Please sign up"),T(!0)}},U=async e=>{try{var t;const i=await y.axiosInstance.post("/api/web/auth/login",{...e});var s,a,n,r;if(console.log(i.data),null===(t=i.data.item.token)||void 0===t?void 0:t.token)o.b.success("Logged in successfully"),console.log(i.data.item.user),localStorage.setItem("company_name",null===(s=i.data.item.user)||void 0===s?void 0:s.company_name),localStorage.setItem("parent_id",null===(a=i.data.item.user)||void 0===a?void 0:a.parent_id),localStorage.setItem("token",null===(n=i.data.item.token)||void 0===n?void 0:n.token),localStorage.setItem("user_id",null===(r=i.data.item.user)||void 0===r?void 0:r.id),window.location.reload();else o.b.error(i.data.message)}catch(i){console.log(i),o.b.error("Something went wrong. Please try again later")}},H=()=>{A.length<6?o.b.error("Please enter a valid OTP"):window.confirmationResult.confirm(A).then((e=>{const t=e.user.uid;U(t)})).catch((e=>{o.b.error("Invalid OTP entered")}))};return Object(k.jsxs)("div",{className:"h-100",style:I,children:[Object(k.jsx)("div",{id:"recaptcha-container"}),Object(k.jsxs)("div",{style:C,children:[" ",Object(k.jsx)("img",{src:h,alt:"..."})]}),Object(k.jsxs)("div",{className:"row d-flex h-100",style:{paddingTop:"110px"},children:[Object(k.jsx)("div",{style:{marginTop:"80px",width:"50%"},className:"d-flex flex-column justify-content-start align-items-center",children:Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"d-flex justify-content-center mb-4",children:Object(k.jsx)(j.u,{})}),Object(k.jsx)("h2",{className:"text-center mt-2",children:1===t?"LOGIN":"Enter OTP"}),Object(k.jsxs)("p",{className:"text-center",children:[" ",1===t?"Please enter your phone number below to get started.":`Please enter 6 digit OTP sent to ${v} ${g} below.`]}),1===t&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("h4",{style:{marginTop:"2.7rem"},className:"font-bolder ",children:"Phone Number"}),Object(k.jsx)(i.a,{addonBefore:L,onChange:e=>x(e.target.value),value:g}),Object(k.jsx)(c.a,{style:{backgroundColor:"#3CA6C1",color:"white",marginTop:"4rem",marginBottom:"1.9rem"},className:"w-100",onClick:G,children:"Continue"})]}),2===t&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("h4",{style:{marginTop:"2.7rem"},className:"font-bolder ",children:"OTP Verification"}),Object(k.jsx)(O.a,{className:"OtpInput",value:A,onChange:e=>E(e),autoFocus:!0,OTPLength:6,isNumberInput:!0,shouldAutoFocus:!0,isInputNum:!0,inputStyle:{border:"1px solid #ccc",borderRadius:"4px",padding:"0.5rem",boxShadow:"0 0 5px rgba(0, 0, 0, 0.2)",outline:"none"},containerStyle:{justifyContent:"space-between"},inputContainerStyle:{margin:"0 0.5rem"},inputClassName:"custom-otp-input",disabled:!1,hasErrored:!1,errorStyle:{borderColor:"red"},focusStyle:{borderColor:"blue"},onComplete:e=>H()}),Object(k.jsxs)("p",{className:"text-center mt-2",children:["Don't receive OTP?"," ",Object(k.jsx)("span",{style:{color:"#3CA6C1",cursor:"pointer"},className:"text-center",onClick:()=>{G()},children:"Request Again"})]}),Object(k.jsx)(c.a,{style:{backgroundColor:"#3CA6C1",color:"white",marginTop:"4rem",marginBottom:"1.9rem"},className:"w-100",onClick:()=>H(),children:"Submit"})]}),Object(k.jsx)("p",{className:"text-center",children:"By continuing, you agree to the JD Works Terms & Services"}),Object(k.jsx)("a",{className:"text-center d-block w-100",href:"#",children:"Terms & Services"})]})}),Object(k.jsx)("div",{style:{width:"50%"},className:"loginRightSlider",children:Object(k.jsx)("div",{children:Object(k.jsxs)(p.a,{dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:2e3,arrows:!1,children:[Object(k.jsx)("div",{children:Object(k.jsxs)("div",{style:{backgroundImage:"url(/img/others/Rectanglepurple.svg)",backgroundRepeat:"no-repeat",backgroundSize:"cover",padding:"5rem",backgroundPosition:"center"},children:[Object(k.jsx)("h2",{className:"text-white mt-2",style:{textTransform:"uppercase",fontSize:"1.6rem"},children:"Machine conditions monitoring get easy"}),Object(k.jsx)("p",{className:"text-white mb-5",style:{fontSize:"1rem",width:"80%",lineHeight:"18px",fontWeight:"100"},children:"Enhancing productivity and efficiency with smart mobile applications"}),Object(k.jsx)("img",{style:{width:"65%",margin:"auto"},src:"/img/others/machinefirst.svg",alt:"..."})]})}),Object(k.jsx)("div",{children:Object(k.jsxs)("div",{style:{backgroundImage:"url(/img/others/Rectanglegreen.svg)",backgroundRepeat:"no-repeat",backgroundSize:"cover",padding:"5rem",backgroundPosition:"center"},children:[Object(k.jsx)("h2",{className:"text-white mt-2",style:{textTransform:"uppercase",fontSize:"1.6rem",width:"80%"},children:"Get ON-SITE MAINTENANCE SERVICES"}),Object(k.jsxs)("p",{className:"text-white mb-5",style:{fontSize:"1rem",width:"70%",lineHeight:"18px",fontWeight:"100"},children:["Our expert team deliver best on site maintenance services"," "]}),Object(k.jsx)("img",{style:{width:"65%",margin:"auto"},src:"/img/others/machinetwo.svg",alt:"..."})]})}),Object(k.jsx)("div",{children:Object(k.jsxs)("div",{style:{backgroundImage:"url(/img/others/Rectangleorange.svg)",backgroundRepeat:"no-repeat",backgroundSize:"cover",width:"100%",padding:"5rem",height:"100%"},children:[Object(k.jsx)("h2",{className:"text-white mt-2",style:{textTransform:"uppercase",fontSize:"1.6rem",width:"80%"},children:"Get INSTANT QUOTATION ON INQURIY"}),Object(k.jsx)("p",{className:"text-white mb-5",style:{fontSize:"1rem",width:"70%",lineHeight:"18px",fontWeight:"100"},children:"Generate quick quotation for your problems you inquire."}),Object(k.jsx)("img",{style:{width:"65%",margin:"auto"},src:"/img/others/machinethree.svg",alt:"..."})]})})]})})})]}),Object(k.jsx)(l.a,{title:"Sign Up",visible:w,onOk:()=>{b.submit()},onCancel:()=>{T(!1)},children:Object(k.jsxs)(r.a,{layout:"vertical",form:b,onFinish:async e=>{M||o.b.error("Please select a company name"),console.log(e,M),U({phoneCode:v,phoneNo:g,name:e.name,company_name:M,email:e.email,nric_fin_number:e.nric_fin_number})},children:[Object(k.jsx)(r.a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please input your name!"}],children:Object(k.jsx)(i.a,{})}),Object(k.jsxs)(r.a.Item,{label:"Company Name",children:[Object(k.jsx)(d.a,{options:F,onSearch:async e=>{if(e){q(!0);try{const t=await y.axiosInstance.post("/api/app/auth/searchExistingCompanies",{search:e});console.log(t.data.items),z(t.data.items.map((e=>({value:e.company_name}))))}catch(t){console.error("Error fetching companies:",t)}finally{q(!1)}}},onSelect:e=>B(e),onChange:e=>B(e),value:M,children:Object(k.jsx)(i.a,{placeholder:"Search or enter company name"})}),_&&Object(k.jsx)(m.a,{size:"small",style:{marginLeft:10}})]}),Object(k.jsx)(r.a.Item,{name:"email",label:"Email",rules:[{required:!0,message:"Please input your email"},{type:"email",message:"Please enter a validate email!"}],children:Object(k.jsx)(i.a,{prefix:Object(k.jsx)(S.a,{className:"text-primary"})})}),Object(k.jsx)(r.a.Item,{name:"nric_fin_number",label:"NRIC/FIN Number",rules:[{required:!0,message:"Please input your NRIC/FIN number!"}],children:Object(k.jsx)(i.a,{})})]})})]})}},919:function(e,t,s){"use strict";s.r(t);s(0);var a=s(799),n=s(1);t.default=()=>Object(n.jsx)(a.default,{allowRedirect:!0})}}]);
//# sourceMappingURL=47.f10ad6ef.chunk.js.map