{"version":3,"sources":["components/shared-components/Filter.js","views/app-views/machine-and-sensor/view-sensor/index.js"],"names":["Filter","props","_jsx","Dropdown","overlay","filters","placement","children","ViewSensor","id","useParams","history","useLocation","useHistory","fetchData","setData","useState","getData","async","response","axiosInstance","get","console","log","data","item","results","useEffect","map","value","i","key","image","sensor_id","sensor_type","sensor_name","location","sensor_location","last_update_on","moment","updated_at","format","status","sensor_status","columns","title","dataIndex","render","text","record","Avatar","src","alt","organization","active","Tag","color","Space","size","getMenu","trigger","MoreOutlined","_jsxs","Menu","Item","Link","style","width","display","to","EditOutlined","Popconfirm","description","onConfirm","delete","message","success","error","onDeleteSensor","onCancel","e","okText","cancelText","DeleteOutlined","FilterMenu","mode","SubMenu","Checkbox","className","MachineSensorIcon","fontWeight","background","gap","borderRadius","height","Divider","type","padding","fontSize","direction","Input","placeholder","allowClear","onChange","prefix","SearchOutlined","marginRight","Button","icon","Icon","component","FilterIcon","CsvIcon","onClick","goBack","Table","dataSource"],"mappings":"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","file":"static/js/49.e73eec97.chunk.js","sourcesContent":["import { Button, Dropdown, Menu, Checkbox } from \"antd\";\r\nimport React, { useState } from \"react\";\r\n\r\n\r\nconst Filter = (props) => {\r\n  return (\r\n    <Dropdown overlay={props.filters} placement=\"bottomLeft\">\r\n      {props.children}\r\n    </Dropdown>\r\n  );\r\n};\r\nexport default Filter;","import { DeleteOutlined, EditOutlined, MoreOutlined, SearchOutlined } from '@ant-design/icons';\r\nimport Icon from '@ant-design/icons/lib/components/Icon';\r\nimport { Avatar, Button, Checkbox, Divider, Dropdown, Input, Menu, Popconfirm, Space, Table, Tag, message } from 'antd';\r\nimport SubMenu from 'antd/lib/menu/SubMenu';\r\nimport { axiosInstance } from 'App';\r\nimport { CsvIcon, FilterIcon, MachineSensorIcon } from 'assets/svg/icon';\r\nimport Filter from 'components/shared-components/Filter';\r\nimport React, { useEffect, useState } from 'react'\r\nimport { Link, useHistory, useLocation, useParams } from 'react-router-dom/cjs/react-router-dom';\r\nimport moment from 'moment'\r\n\r\nconst ViewSensor = () => {\r\n  const { id } = useParams();\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n\r\n  const [fetchData, setData] = useState([]);\r\n\r\n  const getData = async () => {\r\n    const response = await axiosInstance.get(`/api/admin/machine-senser/${id}/show`);\r\n    console.log(response.data.item.results);\r\n    setData(response.data.item.results);\r\n  };\r\n  useEffect(() => {\r\n\r\n    getData();\r\n  }, [])\r\n\r\n  const data = fetchData.map((value, i) => {\r\n    return {\r\n      key: value.id,\r\n      id: value.id,\r\n      image: value.image,\r\n      sensor_id: value.sensor_id,\r\n      sensor_type: value.sensor_type,\r\n      sensor_name: value.sensor_name,\r\n      location: value.sensor_location,\r\n      last_update_on: moment(value.updated_at).format(\"DD-MM-YYYY\"),\r\n      status: value.sensor_status,\r\n\r\n    }\r\n  })\r\n\r\n\r\n  // const data = [\r\n  //   {\r\n  //     id: 1,\r\n  //     image: 'https://images.unsplash.com/photo-1708616748538-bdd66d6a9e25?q=80&w=1887&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',\r\n  //     sensor_id: '#VS-456866',\r\n  //     sensor_type: 'Vibratory Sensor ',\r\n  //     sensor_name: 'Industrial piezoelectric accelerometers',\r\n  //     location: 'Moto',\r\n  //     last_update_on: '2022-01-01',\r\n  //     status: true,\r\n  //   },\r\n  //   // Add more data entries as needed\r\n  // ];\r\n\r\n  const columns = [\r\n    {\r\n      title: 'Sr No',\r\n      dataIndex: 'id',\r\n      key: 'id',\r\n    },\r\n    {\r\n      // title: 'Image',\r\n      dataIndex: 'image',\r\n      key: 'image',\r\n      render: (text, record) => <Avatar src={text} alt={`Avatar for ${record.organization}`} />,\r\n    },\r\n    {\r\n      title: 'Sensor ID',\r\n      dataIndex: 'sensor_id',\r\n      key: 'sensor_id',\r\n    },\r\n    {\r\n      title: 'Sensor Type',\r\n      dataIndex: 'sensor_type',\r\n      key: 'sensor_type',\r\n    },\r\n    {\r\n      title: 'Sensor Name',\r\n      dataIndex: 'sensor_name',\r\n      key: 'sensor_name',\r\n    },\r\n    {\r\n      title: 'Loction',\r\n      dataIndex: 'location',\r\n      key: 'location',\r\n    },\r\n    {\r\n      title: 'Last Update On',\r\n      dataIndex: 'last_update_on',\r\n      key: 'last_update_on',\r\n      //   render: (active) => (active ? <Tag color=\"green\">Active</Tag> : <Tag color=\"red\">Inactive</Tag>),\r\n    },\r\n    {\r\n      title: 'Status',\r\n      dataIndex: 'status',\r\n      key: 'status',\r\n      render: (active) => (active ? <Tag color=\"green\">Active</Tag> : <Tag color=\"red\">Inactive</Tag>),\r\n    },\r\n    {\r\n      title: 'Action',\r\n      key: 'action',\r\n      render: (text, record) => (\r\n        <Space size=\"middle\">\r\n          <Dropdown overlay={getMenu(record.id)} placement=\"bottomRight\" trigger={['hover']}>\r\n            <MoreOutlined />\r\n          </Dropdown>\r\n        </Space>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const onDeleteSensor = async (id)=>{\r\n    console.log('is',id);\r\n    try {\r\n      const response = await axiosInstance.delete(`/api/admin/machine-senser/${id}`);\r\n      message.success('Sensor delete successfully!');\r\n      if(response.data.status){\r\n        getData()\r\n      }\r\n    } catch (error) {\r\n      message.error('Failed to add sensor. Please try again.');\r\n      console.error('Error:', error);\r\n    }\r\n  }\r\n  const getMenu = (record) => (\r\n    <Menu>\r\n      <Menu.Item key=\"edit\" >\r\n      <Link style={{width:'100%',display:'block',color:'gray'}} to={`edit-sensor/${id}/${record}`}>\r\n        <EditOutlined /> Edit\r\n      </Link>\r\n      </Menu.Item>\r\n      <Menu.Item key=\"delete\">\r\n        <Popconfirm\r\n        style={{width:'100%',display:'block',color:'gray'}} \r\n    title=\"Are you sure to delete this sensor?\"\r\n    description=\"Are you sure to delete this sensor?\"\r\n    onConfirm={()=>onDeleteSensor(record)}\r\n    onCancel={(e) =>console.log('cancel',e)}\r\n    okText=\"Yes\"\r\n    cancelText=\"No\"\r\n  >\r\n    <div>\r\n\r\n        <DeleteOutlined /> Delete\r\n    </div>\r\n  </Popconfirm>\r\n      </Menu.Item>\r\n    </Menu>\r\n  );\r\n\r\n  const onFinish = (values) => {\r\n    console.log('Received values:', values);\r\n    // You can handle form submission logic here\r\n  };\r\n  const onSearch = (value) => console.log(value);\r\n  const FilterMenu = (\r\n    <Menu mode=\"horizontal\">\r\n      <SubMenu key=\"item1\" title=\"Status\">\r\n        <Menu.Item key=\"subitem1\">\r\n          <Checkbox>All</Checkbox>\r\n        </Menu.Item>{\" \"}\r\n        <Menu.Item key=\"subitem2\">\r\n          <Checkbox>Active</Checkbox>\r\n        </Menu.Item>\r\n        <Menu.Item key=\"subitem3\">\r\n          <Checkbox>Terminated</Checkbox>\r\n        </Menu.Item>\r\n      </SubMenu>\r\n    </Menu>\r\n  );\r\n  return (\r\n    <div>\r\n      <div className='rounded bg-white p-3 mb-3'>\r\n\r\n        <h4> <MachineSensorIcon /><span style={{\r\n          color: '#6a6a6a',\r\n          fontWeight: '300'\r\n        }}> Machines </span>/ Sensor </h4>\r\n        <div\r\n          style={{ background: \"#FAFAFB\" }}\r\n          className=\"mb-4 rounded d-flex justify-content-between align-items-start w-100 p-3\"\r\n        >\r\n          <div\r\n            style={{ gap: \"10px\", width: \"80%\" }}\r\n            className=\"d-flex align-items-start p-3 w-100 justify-content-between\"\r\n          >\r\n            <div style={{ gap: \"10px\" }} className=\"d-flex align-items-top\">\r\n              <div>\r\n                <img style={{ borderRadius: '50%' }} height={40} width={40} src=\"https://images.unsplash.com/photo-1708616748538-bdd66d6a9e25?q=80&w=1887&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D\" alt=\"img\" />\r\n              </div>\r\n              <div className='ml-4' style={{ width: \"auto\" }}>\r\n                <h5 className=\"m-0\">Machine Name</h5>\r\n                <div style={{ color: '#0D6CC9' }} className=\"d-flex align-items-center\">\r\n                  Centrifugal Pump\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <Divider style={{ height: \"60px\" }} type=\"vertical\" />\r\n            <div>\r\n              <div>\r\n                <h5 className=\"m-0\">Machine ID</h5>\r\n                <p className=\"m-0\">CF-45686</p>\r\n              </div>\r\n            </div>\r\n            <Divider style={{ height: \"60px\" }} type=\"vertical\" />\r\n            <div>\r\n              <div>\r\n                <h5 className=\"m-0\">Customer</h5>\r\n                <p className=\"m-0\"> Acm Co</p>\r\n              </div>\r\n            </div>\r\n            <Divider style={{ height: \"60px\" }} type=\"vertical\" />\r\n            <div>\r\n              <div>\r\n                <h5 className=\"m-0\">Jobsite</h5>\r\n                <p className=\"m-0\">Pumping Station 1</p>\r\n              </div>\r\n            </div>\r\n            <Divider style={{ height: \"60px\" }} type=\"vertical\" />\r\n            <div>\r\n              <div className='d-flex flex-column align-items-end'>\r\n                <span style={{ color: 'white', padding: '3px 24px', borderRadius: '5px', background: '#00AB6F', fontWeight: '600', fontSize: '16px' }} className=''>Active</span>\r\n                <p className=''>Since 16 Jan 2022, 10:02:36 AM</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"d-flex justify-content-between mb-3\">\r\n        <div className=\"\" style={{ display: \"flex\" }}>\r\n          <Space direction=\"vertical\">\r\n            <Input\r\n              placeholder=\"Search\"\r\n              allowClear\r\n              onChange={onSearch}\r\n              style={{\r\n                width: 200,\r\n              }}\r\n              prefix={<SearchOutlined style={{ marginRight: 8 }} />}\r\n            />\r\n          </Space>\r\n          <Filter filters={FilterMenu}>\r\n            <Button\r\n              icon={<Icon component={FilterIcon} />}\r\n              className=\"d-flex align-items-center ml-2\"\r\n            >\r\n              Filters\r\n            </Button>\r\n          </Filter>\r\n          <Button icon={<Icon component={CsvIcon} />} className=\"d-flex align-items-center ml-2\" >Export</Button>\r\n        </div>\r\n        <div className=\"mb-2 d-flex align-items-center\">\r\n          <Button\r\n            onClick={() => history.goBack()}\r\n            className=\"ml-3 d-flex align-items-center rounded font-weight-semibold px-4\"\r\n          >\r\n            Back\r\n          </Button>\r\n          <Button\r\n            // onClick={showModal}\r\n            className=\"ml-3 bg-primary d-flex align-items-center rounded text-white font-weight-semibold px-4\"\r\n          >\r\n            <Link to={`/app/machine-and-sensors/machine-details/sensors/add-new`}>\r\n              + Add New</Link>\r\n          </Button>\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <Table\r\n          // rowKey='id'\r\n          // rowSelection={{\r\n          //   selectedRowKeys,\r\n          //   onChange: (selectedRowKeys, selectedRows) => {\r\n          //     setSelectedRowKeys(selectedRowKeys);\r\n          //   }\r\n          // }} \r\n          columns={columns} dataSource={data} />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ViewSensor\r\n"],"sourceRoot":""}