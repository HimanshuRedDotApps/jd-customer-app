{"version":3,"sources":["components/shared-components/Filter.js","assets/calendar.png","views/app-views/technician-management/index.js"],"names":["Filter","props","_jsx","Dropdown","overlay","filters","placement","children","TechnicianManagement","isModalOpen","setIsModalOpen","useState","history","useHistory","searchText","setSearchText","selectedFilter","setSelectedFilter","data","setData","getMenu","record","_jsxs","Menu","Item","onClick","push","EditOutlined","Popconfirm","title","description","okText","cancelText","onConfirm","deleteRow","style","display","gap","alignItems","DeleteOutlined","async","console","log","id","axiosInstance","delete","status","message","success","prevData","filter","item","error","columns","dataIndex","render","text","_Fragment","src","profile_pic","width","height","borderRadius","phone_code","Tag","color","key","Space","size","trigger","MoreOutlined","timeout","FilterMenu","mode","onChange","e","SubMenu","Checkbox","getOrderList","checked","search","arguments","length","undefined","url","res1","get","items","useEffect","SettingOutlined","className","direction","Input","placeholder","allowClear","value","target","clearTimeout","setTimeout","prefix","SearchOutlined","marginRight","Button","icon","Icon","component","FilterIcon","Link","to","Table","dataSource"],"mappings":"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","file":"static/js/49.4a141e3e.chunk.js","sourcesContent":["import { Button, Dropdown, Menu, Checkbox } from \"antd\";\r\nimport React, { useState } from \"react\";\r\n\r\n\r\nconst Filter = (props) => {\r\n  return (\r\n    <Dropdown overlay={props.filters} placement=\"bottomLeft\">\r\n      {props.children}\r\n    </Dropdown>\r\n  );\r\n};\r\nexport default Filter;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIpSURBVHgBnZTBbtNAEEBnHDuJxIHwBTVf0PIFJByS3Ag0RdxoT8Tikn5Bki8IF5RIHJozKZATooCw+wV1vwDnC+oLIm6yHmZXtWu3cSp3pF2Pd3bezuzuLECGVFvdyn1s2rrBFjuUjOBPo/32+U1bfddqFdmWBcWbK5eLl10ieip/ufk8w095EEiQbA6GMAFBp99nY+8WsPm6Y1KINjuY/Oty25FOEJKXDgFN9qom5ni4pFoE1eOFhdbjvhJyZA+WpfN/RmALosGvz2MnyWu2O9WQsHK5KtXK5UWFBJ6RgUdsqsURyj1jwAWn2v9xPB5ADqm3Oz1E7AfL0iNn9t5XES70xY5iE3rNVsfMA2S3OfHHMP6achv0lE2DCWkI9xP9oeqTQ4TUZ6wHOQTlwRB0Y2wKSOj8nI5OIYfwIc0JMQZqWRMbr6yuvMSR3ty13ijAXmc/0tdJJpDTGLK1d6X3iPdXqYhKz6oUPYsXAh0YIFwFCeGAIRdSR41qQuCWvCK5ItQ4EgH6UEEKMOSJEwUX2lepZ0W4KWWfSJWXDNflE/OUjuRIPStC/ar3QEh6KGtTnfLJdPQkmnRyPHoR659Gh6l1kbbl5Sksaa7WiwyNPcvmj5ks9LtEpl0qBmecjQzg8XWEKhMa8AnaXOh2vW3NNKTzTTB+ILYRg335nBVgFWeTqjP1hK3giJ+oKtwtPu+lW0Bx+G360V0LTMqzl++2NtF+f/kwXzf+HxPU5qLsLRDQAAAAAElFTkSuQmCC\"","import { Button, Menu, Modal, Select, Rate, Switch, Divider, message, Dropdown, Table, Checkbox, Popconfirm } from \"antd\";\r\nimport { Space, Tag } from 'antd';\r\nimport { BellOutlined, EditOutlined, EyeOutlined, MoreOutlined, SearchOutlined, SettingOutlined } from '@ant-design/icons';\r\nimport Icon from '@ant-design/icons';\r\nimport React, { useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { DeleteOutlined } from \"@ant-design/icons\";\r\nimport { useState } from \"react\";\r\nimport TextArea from \"antd/lib/input/TextArea\";\r\nimport { AudioOutlined } from '@ant-design/icons';\r\nimport { Input } from 'antd';\r\nimport Filter from \"components/shared-components/Filter\";\r\nimport { useHistory } from 'react-router-dom';\r\nimport { CsvIcon, FilterIcon } from \"assets/svg/icon\";\r\nimport { axiosInstance } from \"App\";\r\nimport CalendarIcon from \"assets/calendar.png\"\r\nimport moment from \"moment\";\r\nimport SubMenu from \"antd/lib/menu/SubMenu\";\r\n\r\n\r\nfunction TechnicianManagement() {\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const history = useHistory();\r\n  const [searchText, setSearchText] = useState('');\r\n  const [selectedFilter, setSelectedFilter] = useState('all');\r\n\r\n  const [data, setData] = useState([\r\n    \r\n    \r\n  ])\r\n  const getMenu = (record) => (\r\n    <Menu>\r\n      <Menu.Item key=\"edit\" onClick={() => {\r\n        history.push(`/app/technician-management/edit/${record}`)\r\n      }}>\r\n        <EditOutlined /> Edit\r\n      </Menu.Item>\r\n      {/* <Menu.Item key=\"delete\" onClick={() => handleDelete(record.key)}>\r\n        <DeleteOutlined /> Delete\r\n      </Menu.Item> */}\r\n        <Popconfirm\r\n        title={\"Are you sure you want to delete this item?\"}\r\n        description={\"This action cannot be undone.\"}\r\n        okText=\"Yes\"\r\n        cancelText=\"No\"\r\n        onConfirm={() => deleteRow(record)}\r\n      >\r\n        <Menu.Item key=\"delete\">\r\n          <span style={{ display: \"flex\", gap: \"8px\", alignItems: \"center\" }}>\r\n            <DeleteOutlined /> Delete\r\n          </span>\r\n        </Menu.Item>\r\n      </Popconfirm>\r\n    </Menu>\r\n  );\r\n\r\n  \r\n  const deleteRow = async (id) => {\r\n    console.log(id);\r\n    try {\r\n      const response = await axiosInstance.delete(\r\n        `api/web/technician/${id}/delete`\r\n      );\r\n      if (response.status === 200) {\r\n        message.success(\"Technicial deleted successfully\");\r\n        setData((prevData) => prevData.filter((item) => item.id !== id));\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error deleting row:\", error);\r\n    }\r\n  };\r\n\r\n  const handleSwitchChange = (checked, key) => {\r\n    // Add logic for handling the switch change\r\n    console.log(`Notification with key ${key} is now ${checked ? 'Active' : 'Inactive'}`);\r\n  };\r\n\r\n  const showModal = () => {\r\n    setIsModalOpen(true);\r\n    // handleOk()\r\n  };\r\n\r\n  const handleOk = () => {\r\n    setTimeout(() => {\r\n      setIsModalOpen(false);\r\n    }, 10000);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setIsModalOpen(false);\r\n  };\r\n  const columns = [\r\n    {\r\n        title:\"Id\",\r\n        dataIndex:\"id\",\r\n    },\r\n    {\r\n      dataIndex:\"profile_pic\",\r\n      render: (text, record) => (\r\n        <>\r\n          <img src={record.profile_pic} style={{width: '20px', height: '20px', borderRadius: '50%'}} />\r\n        </>\r\n      )\r\n    },\r\n    {\r\n        title:\"Technician Name\",\r\n        dataIndex:\"name\",\r\n    },\r\n    {\r\n        title:\"Gender\",\r\n        dataIndex:\"gender\",\r\n        render: (text, record) => (\r\n          <>\r\n            {text==1?\"Male\":\"Female\"}\r\n          </>\r\n        ) \r\n    },\r\n    // {\r\n    //     title:\"Nationality\",\r\n    //     dataIndex:\"nationality\",\r\n    // },\r\n    {\r\n        title:\"Mobile Number\",\r\n        dataIndex:\"phone_no\",\r\n        render: (text, record) => (\r\n          <>\r\n            {record.phone_code+\" \"+text}\r\n          </>\r\n        )\r\n    },\r\n    {\r\n        title:\"Email ID\",\r\n        dataIndex:\"email\",\r\n    },\r\n    // {\r\n    //   title:\"Job Assigned\",\r\n    //   dataIndex:\"jobAssigned\"\r\n    // },\r\n    // {\r\n    //   title:\"Active Jobs\",\r\n    //   dataIndex:\"activeJobs\"\r\n    // },\r\n    {\r\n        title:\"Status\",\r\n        dataIndex:\"status\",\r\n        render: (text, record) => (\r\n          <>\r\n            {text==1?<Tag color=\"green\">Active</Tag>:<Tag color=\"red\">Inactive</Tag>}\r\n          </>\r\n        )\r\n    },\r\n    {\r\n        title: 'Action',\r\n        key: 'action',\r\n        render: (text, record) => (\r\n          <Space size=\"middle\">\r\n            <Dropdown overlay={getMenu(record.id)} placement=\"bottomRight\" trigger={['hover']}>\r\n              <MoreOutlined />\r\n            </Dropdown>\r\n          </Space>\r\n        ),\r\n      },\r\n]\r\n\r\n\r\n\r\n  const handleView = (key) => {\r\n    // Add logic for editing a notification\r\n    history.push(`order-management/order-details/${key}`, { myCustomState: 'Hello from MyComponent' });\r\n  };\r\n\r\n  const handleDelete = (key) => {\r\n    // Add logic for deleting a notification\r\n    console.log('Delete notification with key:', key);\r\n  };\r\n  var timeout = \"\"\r\n  const onSearch = (value) => {\r\n    setSearchText(value.target.value)\r\n    clearTimeout(timeout)\r\n    timeout = setTimeout(() => {\r\n      getOrderList(value.target.value, selectedFilter)\r\n    }, 500)\r\n  }\r\n  const FilterMenu = (\r\n    <Menu mode=\"horizontal\" onChange={(e) => {\r\n      console.log(e)\r\n    }}>\r\n      <SubMenu key=\"item1\" title=\"Status\">\r\n        <Menu.Item key=\"subitem1\"\r\n\r\n        >\r\n          <Checkbox onChange={() => {\r\n            getOrderList(searchText);\r\n            setSelectedFilter('all')\r\n          }} checked={\r\n            selectedFilter === 'all'\r\n          }>All</Checkbox>\r\n        </Menu.Item>{\" \"}\r\n        <Menu.Item key=\"subitem2\"\r\n\r\n        >\r\n          <Checkbox\r\n            onChange={() => {\r\n              getOrderList(searchText, 1);\r\n              setSelectedFilter(1)\r\n            }}\r\n            checked={selectedFilter == 1}\r\n\r\n          >Active</Checkbox>\r\n        </Menu.Item>\r\n        <Menu.Item key=\"subitem3\"\r\n\r\n        >\r\n          <Checkbox onChange={() => {\r\n            getOrderList(searchText, 0);\r\n            setSelectedFilter(0)\r\n          }}\r\n\r\n            checked={selectedFilter === 0}>Inactive</Checkbox>\r\n        </Menu.Item>\r\n      </SubMenu>\r\n    </Menu>\r\n  );\r\n\r\n  const getOrderList = async (search = \"\", filter = 'all') => {\r\n    let url = `?search=${search}`\r\n    //for 0 it is not handling\r\n    if((filter !== '' && filter != 'all')) {\r\n      url += `&status=${filter}`\r\n    }\r\n\r\n    const res1 = await axiosInstance.get(`api/web/technician/list?${url}`);\r\n    console.log('res1', res1);\r\n    setData(res1.data.items);\r\n    // setData(res1.data.items.map((elm) => {\r\n    //   return {\r\n    //     id: elm.id,\r\n    //     name: elm.company_name,\r\n    //     jobSite: elm.jobsite,\r\n    //     machine: 'Excavator',\r\n    //     faults: 'Engine Failure',\r\n    //     orderDate: moment(elm.created_at).format('YYYY-MM-DD'),\r\n    //     technicianAssigned: 'Technician 1',\r\n    //     status: true,\r\n    //   }\r\n    // }));\r\n  }\r\n  useEffect(() => {\r\n    getOrderList();\r\n  }, [])\r\n\r\n  return (\r\n    <div>\r\n      {/* <div>\r\n        <Tabs activeKey={key} onChange={setKey} tabBarExtraContent={key===\"1\"?operations:operationsTwo}>\r\n          {items.map((item) => (\r\n            <Tabs.TabPane tab={item.label} key={item.key}>\r\n              {item.children}\r\n            </Tabs.TabPane>\r\n          ))}\r\n        </Tabs>\r\n      </div> */}\r\n      <h4> <SettingOutlined /> Technician Management</h4>\r\n      <div className=\"d-flex justify-content-between mb-3\">\r\n        <div className=\"\" style={{ display: \"flex\" }}>\r\n          <Space direction=\"vertical\">\r\n            <Input\r\n              placeholder=\"Search\"\r\n              allowClear\r\n              onChange={onSearch}\r\n              style={{\r\n                width: 200,\r\n              }}\r\n              prefix={<SearchOutlined style={{ marginRight: 8 }} />}\r\n            />\r\n          </Space>\r\n          <Filter filters={FilterMenu}>\r\n            <Button\r\n              icon={<Icon component={FilterIcon} />}\r\n              className=\"d-flex align-items-center ml-2\"\r\n            >\r\n              Filters\r\n            </Button>\r\n          </Filter>\r\n          {/* <Button icon={<Icon component={CsvIcon} />} className=\"d-flex align-items-center ml-2\" >Export</Button> */}\r\n          {/* <Button className=\"d-flex align-items-center ml-2\">\r\n            <img src={CalendarIcon} className=\"mr-2\" alt=\"Calendar Icon\" /> Schedule\r\n          </Button> */}\r\n        </div>\r\n        <div className=\"mb-2 d-flex align-items-center\">\r\n          <Button\r\n            // onClick={showModal}\r\n            className=\"ml-3 bg-primary d-flex align-items-center rounded text-white font-weight-semibold px-4\"\r\n          >\r\n            <Link to={'/app/technician-management/addNew'}>\r\n              + Add New</Link>\r\n          </Button>\r\n        </div>\r\n      </div>\r\n      <div>\r\n      <Table\r\n        // rowKey='id'\r\n        // rowSelection={{\r\n        //   selectedRowKeys,\r\n        //   onChange: (selectedRowKeys, selectedRows) => {\r\n        //     setSelectedRowKeys(selectedRowKeys);\r\n        //   }\r\n        // }} \r\n        columns={columns} dataSource={data} />\r\n    </div>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nexport default TechnicianManagement\r\n"],"sourceRoot":""}