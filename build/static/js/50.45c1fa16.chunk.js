(this.webpackJsonpemilus=this.webpackJsonpemilus||[]).push([[50],{617:function(e,t,n){"use strict";var c=n(514),i=(n(0),n(1));t.a=e=>Object(i.jsx)(c.a,{overlay:e.filters,placement:"bottomLeft",children:e.children})},677:function(e,t,n){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIpSURBVHgBnZTBbtNAEEBnHDuJxIHwBTVf0PIFJByS3Ag0RdxoT8Tikn5Bki8IF5RIHJozKZATooCw+wV1vwDnC+oLIm6yHmZXtWu3cSp3pF2Pd3bezuzuLECGVFvdyn1s2rrBFjuUjOBPo/32+U1bfddqFdmWBcWbK5eLl10ieip/ufk8w095EEiQbA6GMAFBp99nY+8WsPm6Y1KINjuY/Oty25FOEJKXDgFN9qom5ni4pFoE1eOFhdbjvhJyZA+WpfN/RmALosGvz2MnyWu2O9WQsHK5KtXK5UWFBJ6RgUdsqsURyj1jwAWn2v9xPB5ADqm3Oz1E7AfL0iNn9t5XES70xY5iE3rNVsfMA2S3OfHHMP6achv0lE2DCWkI9xP9oeqTQ4TUZ6wHOQTlwRB0Y2wKSOj8nI5OIYfwIc0JMQZqWRMbr6yuvMSR3ty13ijAXmc/0tdJJpDTGLK1d6X3iPdXqYhKz6oUPYsXAh0YIFwFCeGAIRdSR41qQuCWvCK5ItQ4EgH6UEEKMOSJEwUX2lepZ0W4KWWfSJWXDNflE/OUjuRIPStC/ar3QEh6KGtTnfLJdPQkmnRyPHoR659Gh6l1kbbl5Sksaa7WiwyNPcvmj5ks9LtEpl0qBmecjQzg8XWEKhMa8AnaXOh2vW3NNKTzTTB+ILYRg335nBVgFWeTqjP1hK3giJ+oKtwtPu+lW0Bx+G360V0LTMqzl++2NtF+f/kwXzf+HxPU5qLsLRDQAAAAAElFTkSuQmCC"},912:function(e,t,n){"use strict";n.r(t);var c=n(178),i=n(569),a=n(225),s=n(514),l=n(557),d=n(104),r=n(614),o=n(552),j=n(610),h=n(690),b=n(686),x=n(538),m=n(531),A=n(685),u=n(0),O=n(45),g=n(664),p=n(516),I=n(617),f=n(39),v=n(315),w=n(130),y=(n(677),n(566),n(644)),E=n.n(y),N=n(248),S=n(1);t.default=function(){const[e,t]=Object(u.useState)(!1),n=Object(f.useHistory)(),[y,T]=Object(u.useState)(""),[C,F]=Object(u.useState)("all"),{countryList:R}=Object(u.useContext)(N.a),[B,W]=Object(u.useState)([]),k=e=>Object(S.jsxs)(c.a,{children:[Object(S.jsxs)(c.a.Item,{onClick:()=>{n.push(`/app/technician-management/edit/${e}`)},children:[Object(S.jsx)(h.a,{})," Edit"]},"edit"),Object(S.jsx)(i.a,{title:"Are you sure you want to delete this item?",description:"This action cannot be undone.",okText:"Yes",cancelText:"No",onConfirm:()=>K(e),children:Object(S.jsx)(c.a.Item,{children:Object(S.jsxs)("span",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[Object(S.jsx)(g.a,{})," Delete"]})},"delete")})]}),K=async e=>{console.log(e);try{200===(await w.axiosInstance.delete(`api/web/technician/${e}/delete`)).status&&(a.b.success("Technician deleted successfully"),W((t=>t.filter((t=>t.id!==e)))))}catch(t){console.error("Error deleting row:",t)}},J=[{title:"Id",dataIndex:"id"},{dataIndex:"profile_pic",render:(e,t)=>Object(S.jsx)(S.Fragment,{children:Object(S.jsx)("img",{src:t.profile_pic,style:{width:"20px",height:"20px",borderRadius:"50%"}})})},{title:"Technician Name",dataIndex:"name"},{title:"Gender",dataIndex:"gender",render:(e,t)=>Object(S.jsx)(S.Fragment,{children:1==e?"Male":"Female"})},{title:"Nationality",dataIndex:"nationality",render:(e,t)=>{var n;return null===(n=R.find((t=>t.id===e)))||void 0===n?void 0:n.name}},{title:"Mobile Number",dataIndex:"phone_no",render:(e,t)=>Object(S.jsx)(S.Fragment,{children:t.phone_code+" "+e})},{title:"Email ID",dataIndex:"email"},{title:"Job Assigned",dataIndex:"order_counts"},{title:"Active Jobs",dataIndex:"active_order_counts"},{title:"Status",dataIndex:"status",render:(e,t)=>Object(S.jsx)(S.Fragment,{children:1==e?Object(S.jsx)(o.a,{color:"green",children:"Active"}):Object(S.jsx)(o.a,{color:"red",children:"Inactive"})})},{title:"Action",key:"action",render:(e,t)=>Object(S.jsx)(j.b,{size:"middle",children:Object(S.jsx)(s.a,{overlay:k(t.id),placement:"bottomRight",trigger:["hover"],children:Object(S.jsx)(b.a,{})})})}];var U="";const P=Object(S.jsx)(c.a,{mode:"horizontal",onChange:e=>{console.log(e)},children:Object(S.jsxs)(E.a,{title:"Status",children:[Object(S.jsx)(c.a.Item,{children:Object(S.jsx)(l.a,{onChange:()=>{Q(y),F("all")},checked:"all"===C,children:"All"})},"subitem1")," ",Object(S.jsx)(c.a.Item,{children:Object(S.jsx)(l.a,{onChange:()=>{Q(y,1),F(1)},checked:1==C,children:"Active"})},"subitem2"),Object(S.jsx)(c.a.Item,{children:Object(S.jsx)(l.a,{onChange:()=>{Q(y,0),F(0)},checked:0===C,children:"Inactive"})},"subitem3")]},"item1")}),Q=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all",n=`?customer_id=${"null"!=localStorage.getItem("parent_id")?localStorage.getItem("parent_id"):localStorage.getItem("user_id")}&search=${e}`;""!==t&&"all"!=t&&(n+=`&status=${t}`);const c=await w.axiosInstance.get(`api/web/technician/list${n}`);console.log("res1",c),W(c.data.items)};return Object(u.useEffect)((()=>{Q()}),[]),Object(S.jsxs)("div",{children:[Object(S.jsxs)("h4",{children:[" ",Object(S.jsx)(x.a,{})," Technician Management"]}),Object(S.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[Object(S.jsxs)("div",{className:"",style:{display:"flex"},children:[Object(S.jsx)(j.b,{direction:"vertical",children:Object(S.jsx)(p.a,{placeholder:"Search",allowClear:!0,onChange:e=>{T(e.target.value),clearTimeout(U),U=setTimeout((()=>{Q(e.target.value,C)}),500)},style:{width:200},prefix:Object(S.jsx)(m.a,{style:{marginRight:8}})})}),Object(S.jsx)(I.a,{filters:P,children:Object(S.jsx)(d.a,{icon:Object(S.jsx)(A.a,{component:v.k}),className:"d-flex align-items-center ml-2",children:"Filters"})})]}),Object(S.jsx)("div",{className:"mb-2 d-flex align-items-center",children:Object(S.jsx)(d.a,{className:"ml-3 bg-primary d-flex align-items-center rounded text-white font-weight-semibold px-4",children:Object(S.jsx)(O.b,{to:"/app/technician-management/addNew",children:"+ Add New"})})})]}),Object(S.jsx)("div",{children:Object(S.jsx)(r.a,{columns:J,dataSource:B})})]})}}}]);
//# sourceMappingURL=50.45c1fa16.chunk.js.map